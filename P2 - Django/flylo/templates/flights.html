{% extends 'base.html' %}
{% load static %}


{% block style %}
	<style>

		input[type=checkbox] {
			/* Double-sized Checkboxes */
			-ms-transform: scale(1.5); /* IE */
			-moz-transform: scale(1.5); /* FF */
			-webkit-transform: scale(1.5); /* Safari and Chrome */
			-o-transform: scale(1.5); /* Opera */
			padding: 10px;
		}

		.table td {
			text-align: center;
		}

		.table th {
			text-align: center;
		}

		.table .added td{
			background-color : #f39c12;
			color:white;

		}


	</style>

	<link rel="stylesheet" href="{% static 'css/transitions.vue.css' %}">
{% endblock %}


{% block content %}

	{% if flights %}

		{% if departure %}
			<h3>Showing Flights departing from {{ departure }}:</h3>
		{% else %}
			<h3>Avaliable Flights:</h3>
		{% endif %}

		<hr>

	{% else %}
		<p>No flights are available.</p>
	{% endif %}


	<!-- Vue Powered Form -->
	<div id="app">
		<form action="{% url 'flylo:shoppingcart' %}" method="post" >
			{% csrf_token %}
			<table class="table table-striped table-hover table-responsive">
				<thead>
				<tr>
					<th>FN</th>
					<th>Return?</th>
					<th>Departure</th>
					<th>Arrival</th>
					<th>Ariline</th>
					<th>Seats</th>
					<th>Class</th>
					<th>Price</th>
					<th></th>
				</tr>
				</thead>

				<tbody is="transition-group" name="fade">
				<tr is="flight" v-for="f in flights" :key="f.pk" :flight="f"></tr>
				</tbody>

			</table>
			<input type="submit" class="btn btn-primary pull-right" value="Go to Shopping Cart">

		</form>


	</div>

	<div class="clearfix"></div>
	<hr>

{% endblock %}


{% block scripts %}

	<script type="text/javascript">

        var csrf = '{{ csrf_token }}';
        var context = {
            departure: '{{ departure }}'
        };

	</script>

	<script type="text/javascript" src="{% static 'js/flights.vue.js' %}"></script>

{% endblock %}