{% extends 'base.html' %}


{% block style %}
<style>
        body {
            text-align: left;
        }

        .table thead{
            background-color : black;
                color:white;
        }
</style>
{% endblock %}


{% block content %}

{% if flights %}

{% if departure %}
<h3>You are looking at flights departing from {{ departure }}:</h3>
{% else %}
<h3>These are all available flights:</h3>
{% endif %}


<form action="{% url 'flylo:shoppingcart' %}" method="post">
    {% csrf_token %}

    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th></th>
            <th>Flight No.</th>
            <th>Departure</th>
            <th>Arrival</th>
            <th>Status</th>

            <th>No. Seats</th>
            <th>Class</th>
        </tr>
        </thead>


        {% for flight in flights %}
        <tr>

            <td >
                <label for="checkbox{{ flight.id }}">
                    <input type="checkbox"
                           name="checkbox{{ flight.id }}"
                           id="checkbox{{ flight.id }}"
                           value="{{ flight.id }}">
                </label>
            </td>


            <td><a href="{% url 'flylo:flights' pk %}{{ flight.id }}">
                {{ flight.flight_number }}</a></td>
            <td>{{ flight.location_departure }}</td>
            <td>{{ flight.location_arrival }}</td>
            <td>{{ flight.status }}</td>


            <td class="center"><input type="number" min="1" max="5" value="1" name="seats{{flight.id}}"> </td>

            <td class="center">
                <select name="type{{flight.id}}">
                    <option value='e'>Economy</option>
                    <option value='b'>Business</option>
                    <option value='f'>First Class</option>
                </select>
            </td>

        </tr>
        {% endfor %}

    </table>


    <input type="submit" class="btn btn-primary pull-right" value="Go to Shopping Cart">

</form>

{% else %}
<p>No flights are available.</p>
{% endif %}

{% endblock %}