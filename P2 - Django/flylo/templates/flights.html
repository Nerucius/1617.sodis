{% extends 'base.html' %}


{% block style %}
<style>
        body {
            text-align: left;
        }

        .table thead{
            background-color : black;
                color:white;
        }
        .table td{
        	text-align: center;
        }

		 .table th{
        	text-align: center;
        }

        .table td:first-child{
        	border-right: 2px solid gray;
        }

		input[type=checkbox] {
			/* Double-sized Checkboxes */
			-ms-transform: scale(1.5); /* IE */
			-moz-transform: scale(1.5); /* FF */
			-webkit-transform: scale(1.5); /* Safari and Chrome */
			-o-transform: scale(1.5); /* Opera */
			padding: 10px;
		}

</style>
{% endblock %}


{% block content %}

{% if flights %}

{% if departure %}
<h3>Showing Flights departing from {{ departure }}:</h3>
{% else %}
<h3>Avaliable Flights:</h3>
{% endif %}

<hr>

<form action="{% url 'flylo:shoppingcart' %}" method="post">
	{% csrf_token %}

	<table class="table table-striped table-hover">
		<thead>
		<tr>
			<th>Add to Cart</th>
			<th>Return Trip</th>
			<th>Flight No.</th>
			<th>Departure</th>
			<th>Arrival</th>
			<th>Status</th>
			<th>No. Seats</th>
			<th>Class</th>
		</tr>
		</thead>

		{% for flight in flights %}
		<tr>

			<td>

				<div class="">
					<input type="checkbox" id="selected_going{{ flight.id }}"
						   name="selected_going{{ flight.id }}" value="{{ flight.id }}"
						   class="">
				</div>
			</td>

			<td>
				<label for="return_flight{{ flight.id }}">
					<input type="checkbox"
						   name="return_flight{{ flight.id }}"
						   id="return_flight{{ flight.id }}"
						   value="{{ flight.id }}"
						   data-toggle="toggle" data-size="mini"
						   data-on="Yes" data-off="No">
				</label>
			</td>

			<td><a href="{% url 'flylo:flights' pk %}{{ flight.id }}">
				{{ flight.flight_number }} ({{ flight.pk }})</a></td>
			<td>{{ flight.location_departure }}</td>
			<td>{{ flight.location_arrival }}</td>
			<td>{{ flight.status }}</td>

			<td class="center"><input class="form-control input-sm" type="number" min="1" max="5" value="1" name="seats{{flight.id}}"></td>

			<td class="center">
				<select name="type{{ flight.id }}" class="form-control input-sm">
					<option value='e'>Economy</option>
					<option value='b'>Business</option>
					<option value='f'>First Class</option>
				</select>
			</td>

		</tr>
		{% endfor %}

	</table>


	<input type="submit" class="btn btn-primary pull-right" value="Go to Shopping Cart">

</form>

{% else %}
<p>No flights are available.</p>
{% endif %}

{% endblock %}